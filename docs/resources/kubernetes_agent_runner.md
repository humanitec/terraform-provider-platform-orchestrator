---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "platform-orchestrator_kubernetes_agent_runner Resource - platform-orchestrator"
subcategory: ""
description: |-
  Kubernetes Agent Runner resource
---

# platform-orchestrator_kubernetes_agent_runner (Resource)

Kubernetes Agent Runner resource

## Example Usage

```terraform
resource "platform-orchestrator_kubernetes_agent_runner" "my_runner" {
  id          = "my-runner"
  description = "runner for all the envs"
  runner_configuration = {
    key = <<EOT
-----BEGIN PUBLIC KEY-----
MCowBQYDK2VwAyEAc5dgCx4ano39JT0XgTsHnts3jej+5xl7ZAwSIrKpef0=
-----END PUBLIC KEY-----
EOT
    job = {
      namespace       = "default"
      service_account = "humanitec-runner"
      pod_template = jsonencode({
        metadata = {
          labels = {
            "app.kubernetes.io/name" = "humanitec-runner"
          }
        }
      })
    }
  }
  state_storage_configuration = {
    type = "kubernetes"
    kubernetes_configuration = {
      namespace = "humanitec"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) The unique identifier for the Kubernetes Agent Runner.
- `runner_configuration` (Attributes) The configuration of the Kubernetes Agent Runner. (see [below for nested schema](#nestedatt--runner_configuration))
- `state_storage_configuration` (Attributes) The state storage configuration for the Runner. (see [below for nested schema](#nestedatt--state_storage_configuration))

### Optional

- `description` (String) The description of the Kubernetes Agent Runner.

<a id="nestedatt--runner_configuration"></a>
### Nested Schema for `runner_configuration`

Required:

- `job` (Attributes) The job configuration for the Kubernetes Job triggered by the Kubernetes Agent Runner. (see [below for nested schema](#nestedatt--runner_configuration--job))
- `key` (String) The public ed25519 key in PEM format used to identify the caller identity. The caller must hold the matching private key.

<a id="nestedatt--runner_configuration--job"></a>
### Nested Schema for `runner_configuration.job`

Required:

- `namespace` (String) The namespace for the Kubernetes Runner job.
- `service_account` (String) The service account for the Kubernetes Runner job.

Optional:

- `pod_template` (String) JSON encoded pod template for the Kubernetes Runner job.



<a id="nestedatt--state_storage_configuration"></a>
### Nested Schema for `state_storage_configuration`

Required:

- `type` (String) The type of state storage configuration for the Runner.

Optional:

- `gcs_configuration` (Attributes) The GCS state storage configuration for the Runner (see [below for nested schema](#nestedatt--state_storage_configuration--gcs_configuration))
- `kubernetes_configuration` (Attributes) The Kubernetes state storage configuration for the Runner. (see [below for nested schema](#nestedatt--state_storage_configuration--kubernetes_configuration))
- `s3_configuration` (Attributes) The S3 state storage configuration for the Runner (see [below for nested schema](#nestedatt--state_storage_configuration--s3_configuration))

<a id="nestedatt--state_storage_configuration--gcs_configuration"></a>
### Nested Schema for `state_storage_configuration.gcs_configuration`

Required:

- `bucket` (String) Name of the GCS Bucket

Optional:

- `path_prefix` (String) A prefix path for the state file. The environment uuid will be used as a unique key within this


<a id="nestedatt--state_storage_configuration--kubernetes_configuration"></a>
### Nested Schema for `state_storage_configuration.kubernetes_configuration`

Required:

- `namespace` (String) The namespace for the Kubernetes state storage configuration.


<a id="nestedatt--state_storage_configuration--s3_configuration"></a>
### Nested Schema for `state_storage_configuration.s3_configuration`

Required:

- `bucket` (String) Name of the S3 Bucket

Optional:

- `path_prefix` (String) A prefix path for the state file. The environment uuid will be used as a unique key within this

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import platform-orchestrator_kubernetes_agent_runner.my_runner "my-runner"
```
